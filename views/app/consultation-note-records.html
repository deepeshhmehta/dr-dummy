<ion-view class="tinder-cards-view">
    <button class="button button-clear button-positive">Edit</button>
    <ion-nav-title>
        <span>{{catname}}</span>
    </ion-nav-title>
    <ion-nav-buttons side="right">
        <!-- <button ng-click="shareTreatment()" class="button button-icon icon ion-android-share-alt">Share</button>
        <button ng-click="addNew('{{catid}}')" class="button button-icon button-clear icon ion-plus"> Add</button> -->
    </ion-nav-buttons>
    <ion-content scroll="true" class="bgwhite">
        <ion-refresher
            pulling-text="Pull to refresh..."
            on-refresh="doRefresh()">
        </ion-refresher>
        
            <p ng-if="!cards">You have no shared {{catname}}</p>
            <!--task -->
          	<td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 30">
                <h4 class="cardtitle">
                    <span> {{card['task-1']}} - ({{card['status-5']}})</span>                    
                </h4>
                <div class="tdincard">
                    <p ng-if="card['no-of-times']">Once every {{card['no-of-times']}} {{card['no-of-frequency']}}</p>
                    <p ng-if="card['start-time']">From: {{card['start-time']}}</p>
                    <p ng-if="card['end-time']">To: {{card['end-time']}}</p>
                </div>                
          	</td-card>

            <!--diet-->
            <td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 21" >
                <a ng-click="getDetails(card['record_id'])">
                    <h4 class="cardtitle">
                        <span> {{card['start-date-4']}} To {{card['end-date-3']}}</span>
                    </h4>
                    <div class="tdincard" ng-if="card['notes-21']">
                        <p >Notes: {{card['notes-21']}}</p>
                    </div>            
                </a>
            </td-card>

            <!--medication-->
            <td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 3">
                <h4 class="cardtitle">
                    <span> {{card.name}} - {{card.strength}} </span>
                    <span> ( Once every {{card.frequency}} {{card['no-of-frequency-1']}} )</span>
                </h4>
                <div class="tdincard">
                    <p>From: {{card['start-date']}}</p>
                    <p>To: {{card['end-date']}}</p>
                    <p>Intake: {{card.intake}}</p>
                </div>
            </td-card>

            <!--investigations-->
            <td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 5">
                <h4 class="cardtitle">
                    <span> {{card.investigation}} ({{card['status-2']}})</span>
                </h4>
                <div class="tdincard">
                    <p ng-if="card['conducted-on-1']">Conducted on: {{card['conducted-on-1']}}</p>
                    <p ng-if="card['to-be-conducted-before-1']">To be Conducted before: {{card['to-be-conducted-before-1']}}</p>
                    <p ng-if="card['conducted-by']">Conducted by: {{card['conducted-by']}}</p>
                    <p ng-if="card['result']">Result: {{card['result']}} ({{card['inference']}})</p>
                    <p ng-if="card['reference-range']">Optimum Result: {{card['reference-range']}}</p>
                    <p ng-if="card['notes-4']">Notes: {{card['notes-4']}}</p>
                </div>                
            </td-card>

            <!--procedure-->
            <td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 4">
                <h4 class="cardtitle">
                    <span> {{card['name-3']}} ({{card['status-1']}})</span>
                </h4>
                <div class="tdincard">
                    <p ng-if="card['conducted-on']">Conducted on: {{card['conducted-on']}}</p>
                    <p ng-if="card['to-be-conducted-before']">To be Conducted before: {{card['to-be-conducted-before']}}</p>
                    <p >
                      <span ng-if="card['performed-by']">Performed by: {{card['performed-by']}}</span>
                      <span ng-if="card['performed-at']"> at {{card['performed-at']}}</span>
                    </p>
                    <p ng-if="card['body-location']">Body-Location: {{card['body-location']}}</p>
                    <p ng-if="card['reference-range']">Optimum Result: {{card['reference-range']}}</p>
                    <p ng-if="card['notes-3']">Notes: {{card['notes-3']}}</p>
                </div>                
            </td-card>

            <!--referral-->
            <td-card ng-repeat="card in cards" id="td-card" on-transition-out="swipedAway(card.id)" ng-if="catid == 9">
                <h4 class="cardtitle">
                    <span> {{card['referred-to']}}</span>
                </h4>
                <div class="tdincard">
                    <p ng-if="card['referred-by']">Referred By: {{card['referred-by']}}</p>
                    <p ng-if="card['referred-on']">On: {{card['referred-on']}}</p>
                    <!-- <p ng-if="card['related-problem-5']">Related Problem: {{card['related-problem-5']}}</p> -->
                    <p ng-if="card['notes-9']">Notes: {{card['notes-9']}}</p>
                </div>                
            </td-card>
        
 
        
    </ion-content>
</ion-view>